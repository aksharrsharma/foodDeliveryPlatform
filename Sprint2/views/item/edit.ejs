<%- include('../partials/header.ejs')%>
<link rel="stylesheet" type="text/css" href="/css/newItem.css">

<main>
    <div class="grid-container-sell">
        <div class="sell-directions"> 
            <h2>Edit Menu Item</h2>
            <p>Update the details for "<%= item.name %>"</p>
            <img src="<%= item.image %>" alt="<%= item.name %>" class="preview-image">
        </div>
        
        <div class="form">
            <form action="/items/<%= item._id %>?_method=PUT" method="POST" enctype="multipart/form-data" class="edit-form">
                <div class="form-group">
                    <label for="name">Item Name</label> 
                    <input type="text" id="product-name" name="name" required value="<%= item.name %>">
                </div>
                
                <div class="form-group">
                    <label for="price">Price ($)</label> 
                    <input type="number" step="0.01" id="product-price" name="price" required min="0.01" max="1000000" value="<%= item.price %>">
                </div>
                
                <div class="form-group">
                    <label for="description">Description</label> 
                    <textarea id="product-details" name="description" required minlength="10"><%= item.description %></textarea>
                </div>
                
                <div class="form-group">
                    <label for="image">Update Image (leave blank to keep current image)</label> 
                    <input type="file" id="product-image" name="image" accept="image/*">
                    <p class="file-help">Choose a clear, appealing image of your dish (JPEG, PNG formats)</p>
                </div>
                
                <!-- <div class="form-group">
                    <label for="active">Item Status</label>
                    <select id="active" name="active">
                        <option value="true" <%= item.active ? 'selected' : '' %>>Active (Visible on Menu)</option>
                        <option value="false" <%= !item.active ? 'selected' : '' %>>Inactive (Hidden from Menu)</option>
                    </select>
                </div> -->
                
                <div class="form-actions">
                    <button type="submit" class="save-button"><i class="fas fa-save"></i> Save Changes</button>
                    <a href="/items/<%= item._id %>" class="cancel-button"><i class="fas fa-times"></i> Cancel</a>
                </div>
            </form>
        </div>
    </div>
</main>

<%- include('../partials/footer.ejs')%>